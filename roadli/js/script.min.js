$(document).ready((function(){"use strict";function e(e){this.type=e}e.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),i={};i.element=t,i.parent=t.parentNode,i.destination=document.querySelector(n[0].trim()),i.breakpoint=n[1]?n[1].trim():"767",i.place=n[2]?n[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],i=String.prototype.split.call(n,","),o=window.matchMedia(i[0]),r=i[1],a=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===r}));o.addListener((function(){e.mediaHandler(o,a)})),this.mediaHandler(o,a)}},e.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},e.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};new e("max").init(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){var t,n=navigator.userAgent,i=/iphone/i.test(n),o=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"-"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,a){var c,s,l,d,u,f,m;if(!n&&this.length>0){var p=e(this[0]).data(e.mask.dataName);return p?p():void 0}return a=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},a),c=e.mask.definitions,s=[],l=f=n.length,d=null,e.each(n.split(""),(function(e,t){"?"==t?(f--,l=e):c[t]?(s.push(new RegExp(c[t])),null===d&&(d=s.length-1),l>e&&(u=s.length-1)):s.push(null)})),this.trigger("unmask").each((function(){function p(){if(a.completed){for(var e=d;u>=e;e++)if(s[e]&&w[e]===h(e))return;a.completed.call($)}}function h(e){return a.placeholder.charAt(e<a.placeholder.length?e:0)}function g(e){for(;++e<f&&!s[e];);return e}function y(e,t){var n,i;if(!(0>e)){for(n=e,i=g(t);f>n;n++)if(s[n]){if(!(f>i&&s[n].test(w[i])))break;w[n]=w[i],w[i]=h(i),i=g(i)}_(),$.caret(Math.max(d,e))}}function v(){k(),$.val()!=A&&$.change()}function b(e,t){var n;for(n=e;t>n&&f>n;n++)s[n]&&(w[n]=h(n))}function _(){$.val(w.join(""))}function k(e){var t,n,i,o=$.val(),r=-1;for(t=0,i=0;f>t;t++)if(s[t]){for(w[t]=h(t);i++<o.length;)if(n=o.charAt(i-1),s[t].test(n)){w[t]=n,r=t;break}if(i>o.length){b(t+1,f);break}}else w[t]===o.charAt(i)&&i++,l>t&&(r=t);return e?_():l>r+1?a.autoclear||w.join("")===S?($.val()&&$.val(""),b(0,f)):_():(_(),$.val($.val().substring(0,r+1))),l?t:d}var $=e(this),w=e.map(n.split(""),(function(e,t){return"?"!=e?c[e]?h(t):e:void 0})),S=w.join(""),A=$.val();$.data(e.mask.dataName,(function(){return e.map(w,(function(e,t){return s[t]&&e!=h(t)?e:null})).join("")})),$.one("unmask",(function(){$.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;$.prop("readonly")||(clearTimeout(t),A=$.val(),e=k(),t=setTimeout((function(){$.get(0)===document.activeElement&&(_(),e==n.replace("?","").length?$.caret(0,e):$.caret(e))}),10))})).on("blur.mask",v).on("keydown.mask",(function(e){if(!$.prop("readonly")){var t,n,o,r=e.which||e.keyCode;m=$.val(),8===r||46===r||i&&127===r?(n=(t=$.caret()).begin,(o=t.end)-n==0&&(n=46!==r?function(e){for(;--e>=0&&!s[e];);return e}(n):o=g(n-1),o=46===r?g(o):o),b(n,o),y(n,o-1),e.preventDefault()):13===r?v.call(this,e):27===r&&($.val(A),$.caret(0,k()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!$.prop("readonly")){var n,i,o,a=t.which||t.keyCode,c=$.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>a)&&a&&13!==a){if(c.end-c.begin!=0&&(b(c.begin,c.end),y(c.begin,c.end-1)),n=g(c.begin-1),f>n&&(i=String.fromCharCode(a),s[n].test(i))){if(function(e){var t,n,i,o;for(t=e,n=h(e);f>t;t++)if(s[t]){if(i=g(t),o=w[t],w[t]=n,!(f>i&&s[i].test(o)))break;n=o}}(n),w[n]=i,_(),o=g(n),r){setTimeout((function(){e.proxy(e.fn.caret,$,o)()}),0)}else $.caret(o);c.begin<=u&&p()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){$.prop("readonly")||setTimeout((function(){var e=k(!0);$.caret(e),p()}),0)})),o&&r&&$.off("input.mask").on("input.mask",(function(){var e=$.val(),t=$.caret();if(m&&m.length&&m.length>e.length){for(k(!0);t.begin>0&&!s[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<d&&!s[t.begin];)t.begin++;$.caret(t.begin,t.begin)}else{for(k(!0);t.begin<f&&!s[t.begin];)t.begin++;$.caret(t.begin,t.begin)}p()})),k()}))}})}));const t=document.querySelector(".header__burger"),n=document.querySelector(".header__menu"),i=document.querySelector(".header"),o=document.querySelector(".header__body"),r=(document.querySelectorAll("menu-aim"),document.querySelectorAll(".menu__item")),a=document.querySelectorAll(".menu__item--target a");document.querySelectorAll(".header__menu .menu-item a");t&&t.addEventListener("click",(function(){document.body.classList.toggle("lock"),t.classList.toggle("active"),n.classList.toggle("active")}));let c=$(window).scrollTop();c>0&&$(i).addClass("bg"),$(window).on("scroll",(function(){c=$(window).scrollTop(),c>0?$(i).addClass("bg"):$(i).removeClass("bg")}));let s=$(o).outerHeight();window.addEventListener("orientationchange",(function(){s=$(o).outerHeight()}),!1),$(a).on("click",(function(){const e=$(this).attr("href");$("body,html").animate({scrollTop:$(e).offset().top-s-30},1e3),t.classList.contains("active")&&(document.body.classList.remove("lock"),t.classList.remove("active"),n.classList.remove("active"))}));const l={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}};if(l.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow");if(e.length>0){for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){n.parentElement.classList.toggle("active")}))}window.matchMedia("(max-width: 575px)").matches&&$(e).click((function(){$(this).closest(r).find(".menu__sub-list").slideToggle(300)}))}}else document.body.classList.add("_pc");$(".clients__list").length>0&&$(".clients__list").slick({slidesToShow:4,slidesToScroll:1,arrows:!1,autoplay:!0,responsive:[{breakpoint:767,settings:{slidesToShow:3}},{breakpoint:575,settings:{slidesToShow:2}}]}),$(".tabs__triggers-item").click((function(e){e.preventDefault();var t=$(this).closest(".tabs").attr("id");$("#"+t+" .tabs__triggers-item").removeClass("tabs__triggers-item--active"),$("#"+t+" .tabs__content-item").removeClass("tabs__content-item--active"),$(this).addClass("tabs__triggers-item--active"),$($(this).attr("href")).addClass("tabs__content-item--active")}));let d=document.querySelectorAll(".tabs");if(d.length>0)for(let e=0;e<d.length;e++){const t=d[e];let n=$(t).attr("id");$("#"+n+" .tabs__triggers-item:first").click()}const u=document.querySelectorAll("._anim-items");if(u.length>0){function f(e){for(let e=0;e<u.length;e++){const t=u[e],n=t.offsetHeight,i=m(t).top,o=55;let r=window.innerHeight-n/o;n>window.innerHeight&&(r=window.innerHeight-window.innerHeight/o),pageYOffset>i-r&&pageYOffset<i+n?t.classList.add("_active"):t.classList.contains("_anim-no-hide")||t.classList.remove("_active")}}function m(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+n}}window.addEventListener("scroll",f),setTimeout(()=>{f()},300)}$(".accordion__title").click((function(e){let t=$(this).closest(".accordion").attr("id");$("#"+t).hasClass("accordion-one")&&($("#"+t+" .accordion__title").not($(this)).removeClass("active"),$("#"+t+" .accordion__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)}));const p=document.querySelectorAll(".popup-link"),h=document.querySelector("body"),g=document.querySelectorAll(".lock-padding");let y=!0;if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e];t.addEventListener("click",(function(e){const n=t.getAttribute("href").replace("#","");b(document.getElementById(n)),e.preventDefault()}))}const v=document.querySelectorAll(".close-popup");if(v.length>0)for(let e=0;e<v.length;e++){const t=v[e];t.addEventListener("click",(function(e){_(t.closest(".popup")),e.preventDefault()}))}function b(e){if(e&&y){const t=document.querySelector(".popup.open");t?_(t,!1):function(){const e=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(g.length>0)for(let t=0;t<g.length;t++){g[t].style.paddingRight=e}h.style.paddingRight=e,h.classList.add("lock"),y=!1,setTimeout((function(){y=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||_(e.target.closest(".popup"))}))}}function _(e,t=!0){y&&(e.classList.remove("open"),t&&(setTimeout((function(){if(g.length>0)for(let e=0;e<g.length;e++)g[e].style.paddingRight="0px";h.style.paddingRight="0px",h.classList.remove("lock")}),800),y=!1,setTimeout((function(){y=!0}),800)))}document.addEventListener("keydown",(function(e){if(27===e.which){_(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),$(".form__input--phone").mask("+7 (999) 999 99 99"),$(".form__select--search").select2({placeholder:"Город",width:"100%",language:{noResults:function(){return"Результатов не найдено"}}}),$(".form__item--city .select2").click((function(){$(".select2-search__field").attr("placeholder","Введите ваш город")}));const k=$("#quickCardOrder .offer__card-inner"),w=$("#quickCardOrder .offer__card-name"),S=$("#quickCardOrder .offer__card-image img"),A=$("#quickCardOrder .card-order__card-name span");$(".offer__btn").click((function(e){const t=$(this).closest(".tabs").find(".tabs__triggers-item--active"),n=$(this).closest(".tabs__content-item"),i=$(n).find(".offer__card-inner"),o=$(n).find(".offer__card-inner").attr("class"),r=$(i).css("background-image"),a=$(n).find(".offer__card-name").text(),c=$(n).find(".offer__card-image img").attr("src");k.css("background-image",r),w.text(a),$(k).addClass(o),$(S).attr("src",c),$(A).text(t.text())}))}));