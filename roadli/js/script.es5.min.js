"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(document).ready((function(){function e(e){this.type=e}e.prototype.init=function(){var e=this,t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n],i=r.dataset.da.trim().split(","),a={};a.element=r,a.parent=r.parentNode,a.destination=document.querySelector(i[0].trim()),a.breakpoint=i[1]?i[1].trim():"767",a.place=i[2]?i[2].trim():"last",a.index=this.indexInParent(a.parent,a.element),this.оbjects.push(a)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(var o=function(n){var r=e.mediaQueries[n],i=String.prototype.split.call(r,","),a=window.matchMedia(i[0]),o=i[1],c=Array.prototype.filter.call(e.оbjects,(function(e){return e.breakpoint===o}));a.addListener((function(){t.mediaHandler(a,c)})),e.mediaHandler(a,c)},c=0;c<this.mediaQueries.length;c++)o(c)},e.prototype.mediaHandler=function(e,t){if(e.matches)for(var n=0;n<t.length;n++){var r=t[n];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(var i=0;i<t.length;i++){var a=t[i];a.element.classList.contains(this.daClassname)&&this.moveBack(a.parent,a.element,a.index)}},e.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){var n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))},new e("max").init(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}((function(e){var t,n=navigator.userAgent,r=/iphone/i.test(n),i=/chrome/i.test(n),a=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"-"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var c,s,l,d,u,f,m;if(!n&&this.length>0){var p=e(this[0]).data(e.mask.dataName);return p?p():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),c=e.mask.definitions,s=[],l=f=n.length,d=null,e.each(n.split(""),(function(e,t){"?"==t?(f--,l=e):c[t]?(s.push(new RegExp(c[t])),null===d&&(d=s.length-1),l>e&&(u=s.length-1)):s.push(null)})),this.trigger("unmask").each((function(){function p(){if(o.completed){for(var e=d;u>=e;e++)if(s[e]&&w[e]===h(e))return;o.completed.call($)}}function h(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function g(e){for(;++e<f&&!s[e];);return e}function v(e,t){var n,r;if(!(0>e)){for(n=e,r=g(t);f>n;n++)if(s[n]){if(!(f>r&&s[n].test(w[r])))break;w[n]=w[r],w[r]=h(r),r=g(r)}_(),$.caret(Math.max(d,e))}}function y(){k(),$.val()!=A&&$.change()}function b(e,t){var n;for(n=e;t>n&&f>n;n++)s[n]&&(w[n]=h(n))}function _(){$.val(w.join(""))}function k(e){var t,n,r,i=$.val(),a=-1;for(t=0,r=0;f>t;t++)if(s[t]){for(w[t]=h(t);r++<i.length;)if(n=i.charAt(r-1),s[t].test(n)){w[t]=n,a=t;break}if(r>i.length){b(t+1,f);break}}else w[t]===i.charAt(r)&&r++,l>t&&(a=t);return e?_():l>a+1?o.autoclear||w.join("")===S?($.val()&&$.val(""),b(0,f)):_():(_(),$.val($.val().substring(0,a+1))),l?t:d}var $=e(this),w=e.map(n.split(""),(function(e,t){return"?"!=e?c[e]?h(t):e:void 0})),S=w.join(""),A=$.val();$.data(e.mask.dataName,(function(){return e.map(w,(function(e,t){return s[t]&&e!=h(t)?e:null})).join("")})),$.one("unmask",(function(){$.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;$.prop("readonly")||(clearTimeout(t),A=$.val(),e=k(),t=setTimeout((function(){$.get(0)===document.activeElement&&(_(),e==n.replace("?","").length?$.caret(0,e):$.caret(e))}),10))})).on("blur.mask",y).on("keydown.mask",(function(e){if(!$.prop("readonly")){var t,n,i,a=e.which||e.keyCode;m=$.val(),8===a||46===a||r&&127===a?(n=(t=$.caret()).begin,(i=t.end)-n==0&&(n=46!==a?function(e){for(;--e>=0&&!s[e];);return e}(n):i=g(n-1),i=46===a?g(i):i),b(n,i),v(n,i-1),e.preventDefault()):13===a?y.call(this,e):27===a&&($.val(A),$.caret(0,k()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!$.prop("readonly")){var n,r,i,o=t.which||t.keyCode,c=$.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>o)&&o&&13!==o){if(c.end-c.begin!=0&&(b(c.begin,c.end),v(c.begin,c.end-1)),n=g(c.begin-1),f>n&&(r=String.fromCharCode(o),s[n].test(r))){if(function(e){var t,n,r,i;for(t=e,n=h(e);f>t;t++)if(s[t]){if(r=g(t),i=w[t],w[t]=n,!(f>r&&s[r].test(i)))break;n=i}}(n),w[n]=r,_(),i=g(n),a){setTimeout((function(){e.proxy(e.fn.caret,$,i)()}),0)}else $.caret(i);c.begin<=u&&p()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){$.prop("readonly")||setTimeout((function(){var e=k(!0);$.caret(e),p()}),0)})),i&&a&&$.off("input.mask").on("input.mask",(function(){var e=$.val(),t=$.caret();if(m&&m.length&&m.length>e.length){for(k(!0);t.begin>0&&!s[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<d&&!s[t.begin];)t.begin++;$.caret(t.begin,t.begin)}else{for(k(!0);t.begin<f&&!s[t.begin];)t.begin++;$.caret(t.begin,t.begin)}p()})),k()}))}})}));var t=document.querySelector(".header__burger"),n=document.querySelector(".header__menu"),r=document.querySelector(".header"),i=document.querySelector(".header__body"),a=(document.querySelectorAll("menu-aim"),document.querySelectorAll(".menu__item")),o=document.querySelectorAll(".menu__item--target a");document.querySelectorAll(".header__menu .menu-item a");t&&t.addEventListener("click",(function(){document.body.classList.toggle("lock"),t.classList.toggle("active"),n.classList.toggle("active")}));var c=$(window).scrollTop();c>0&&$(r).addClass("bg"),$(window).on("scroll",(function(){(c=$(window).scrollTop())>0?$(r).addClass("bg"):$(r).removeClass("bg")}));var s=$(i).outerHeight();window.addEventListener("orientationchange",(function(){s=$(i).outerHeight()}),!1),$(o).on("click",(function(){var e=$(this).attr("href");$("body,html").animate({scrollTop:$(e).offset().top-s-30},1e3),t.classList.contains("active")&&(document.body.classList.remove("lock"),t.classList.remove("active"),n.classList.remove("active"))}));var l={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}};if(l.any()){document.body.classList.add("_touch");var d=document.querySelectorAll(".menu__arrow");if(d.length>0){for(var u=function(e){var t=d[e];t.addEventListener("click",(function(e){t.parentElement.classList.toggle("active")}))},f=0;f<d.length;f++)u(f);window.matchMedia("(max-width: 575px)").matches&&$(d).click((function(){$(this).closest(a).find(".menu__sub-list").slideToggle(300)}))}}else document.body.classList.add("_pc");$(".clients__list").length>0&&$(".clients__list").slick({slidesToShow:4,slidesToScroll:1,arrows:!1,autoplay:!0,responsive:[{breakpoint:767,settings:{slidesToShow:3}},{breakpoint:575,settings:{slidesToShow:2}}]}),$(".tabs__triggers-item").click((function(e){e.preventDefault();var t=$(this).closest(".tabs").attr("id");$("#"+t+" .tabs__triggers-item").removeClass("tabs__triggers-item--active"),$("#"+t+" .tabs__content-item").removeClass("tabs__content-item--active"),$(this).addClass("tabs__triggers-item--active"),$($(this).attr("href")).addClass("tabs__content-item--active")}));var m=document.querySelectorAll(".tabs");if(m.length>0)for(var p=0;p<m.length;p++){var h=m[p],g=$(h).attr("id");$("#"+g+" .tabs__triggers-item:first").click()}var v=document.querySelectorAll("._anim-items");if(v.length>0){var y=function(e){for(var t=0;t<v.length;t++){var n=v[t],r=n.offsetHeight,i=b(n).top,a=window.innerHeight-r/55;r>window.innerHeight&&(a=window.innerHeight-window.innerHeight/55),pageYOffset>i-a&&pageYOffset<i+r?n.classList.add("_active"):n.classList.contains("_anim-no-hide")||n.classList.remove("_active")}},b=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}};window.addEventListener("scroll",y),setTimeout((function(){y()}),300)}$(".accordion__title").click((function(e){var t=$(this).closest(".accordion").attr("id");$("#"+t).hasClass("accordion-one")&&($("#"+t+" .accordion__title").not($(this)).removeClass("active"),$("#"+t+" .accordion__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)}));var _=document.querySelectorAll(".popup-link"),k=document.querySelector("body"),w=document.querySelectorAll(".lock-padding"),S=!0;if(_.length>0)for(var A=function(e){var t=_[e];t.addEventListener("click",(function(e){var n=t.getAttribute("href").replace("#","");!function(e){if(e&&S){var t=document.querySelector(".popup.open");t?C(t,!1):function(){var e=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(w.length>0)for(var t=0;t<w.length;t++){w[t].style.paddingRight=e}k.style.paddingRight=e,k.classList.add("lock"),S=!1,setTimeout((function(){S=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||C(e.target.closest(".popup"))}))}}(document.getElementById(n)),e.preventDefault()}))},x=0;x<_.length;x++)A(x);var E=document.querySelectorAll(".close-popup");if(E.length>0)for(var L=function(e){var t=E[e];t.addEventListener("click",(function(e){C(t.closest(".popup")),e.preventDefault()}))},q=0;q<E.length;q++)L(q);function C(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];S&&(e.classList.remove("open"),t&&T())}function T(){setTimeout((function(){if(w.length>0)for(var e=0;e<w.length;e++){w[e].style.paddingRight="0px"}k.style.paddingRight="0px",k.classList.remove("lock")}),800),S=!1,setTimeout((function(){S=!0}),800)}document.addEventListener("keydown",(function(e){27===e.which&&C(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),$(".form__input--phone").mask("+7 (999) 999 99 99"),$(".form__select--search").select2({placeholder:"Город",width:"100%",language:{noResults:function(){return"Результатов не найдено"}}}),$(".form__item--city .select2").click((function(){$(".select2-search__field").attr("placeholder","Введите ваш город")}));var j=$("#quickCardOrder .offer__card-inner"),O=$("#quickCardOrder .offer__card-name"),R=$("#quickCardOrder .offer__card-image img"),B=$("#quickCardOrder .card-order__card-name span");$(".offer__btn").click((function(e){var t=$(this).closest(".tabs").find(".tabs__triggers-item--active"),n=$(this).closest(".tabs__content-item"),r=$(n).find(".offer__card-inner"),i=$(n).find(".offer__card-inner").attr("class"),a=$(r).css("background-image"),o=$(n).find(".offer__card-name").text(),c=$(n).find(".offer__card-image img").attr("src");j.css("background-image",a),O.text(o),$(j).addClass(i),$(R).attr("src",c),$(B).text(t.text())}))}));